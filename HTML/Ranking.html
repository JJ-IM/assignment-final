<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>킹콩머니 💸 - 랭킹</title>
    <link rel="icon" type="image/x-icon" href="../assets/img/main/DK_icon.ico">
    <link rel="stylesheet" href="../css/main.css">
    <link rel="stylesheet" href="../css/AfterMain.css">
    <link rel="stylesheet" href="../css/Ranking.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
    <video autoplay loop muted playsinline id="bg-video" style="filter: blur(3px);">
        <source src="../assets/video/Red_Smok.mp4" type="video/mp4">
    </video>

    <div id="content">
        <!-- 이곳에 JavaScript에 의해 컨텐츠가 로드됩니다. -->
    </div>

    <script>
        // 쿠키를 읽는 함수
        function getCookie(name) {
            let value = "; " + document.cookie;
            let parts = value.split("; " + name + "=");
            if (parts.length == 2) return parts.pop().split(";").shift();
        }

        // 로그인 상태를 확인하는 함수
        function checkLogin() {
            return getCookie("username") !== undefined;
        }

        // 컨텐츠 로드 함수
        function loadContent() {
            const contentDiv = document.getElementById('content');
            if (1) {
                // 로그인된 상태
                contentDiv.innerHTML = `
                    <div class="afterMain-container">
                        <div class="afterMain-box">
                            <div class="afterNav-box">
                                <div class="afterLogo">
                                    <img src="../assets/img/main/BlackJack.png" alt="BJ_Logo" class="afterLogo-img clickable" id="blackjack-logo">
                                </div>
                                <div class="afterMenu">
                                    <div class="button-wrapper">
                                        <a href="./Ranking.html" class="button">
                                            <img src="../assets/img/navbar/Ranking.svg" alt="Ranking" class="button-icon">
                                            <span class="button-text"> 랭킹 </span>
                                        </a>
                                    </div>
                                    <div class="button-wrapper">
                                        <a href="./History.html" class="button">
                                            <img src="../assets/img/navbar/History.svg" alt="History" class="button-icon">
                                            <span class="button-text"> 기록 </span>
                                        </a>
                                    </div>
                                    <div class="button-wrapper">
                                        <a href="./Play.html" class="button">
                                            <img src="../assets/img/navbar/Play.svg" alt="Play" class="button-icon">
                                            <span class="button-text"> 시작 </span>
                                        </a>
                                    </div>
                                    <div class="button-wrapper">
                                        <a href="./Mypage.html" class="button">
                                            <img src="../assets/img/navbar/Mypage.svg" alt="Mypage" class="button-icon">
                                            <span class="button-text"> 정보 </span>
                                        </a>
                                    </div>
                                </div>
                                <div class="afterUser">
                                    <div class="afterProfile">
                                        <img src="../assets/img/main/userPro.png" alt="Profile" class="afterProfile-img">
                                    </div>
                                    <p>안녕하세요, ${getCookie("username")}님!</p>
                                    <p>현재 코인, ${getCookie("coins")}님!</p>

                                </div>
                            </div>
                            <div class="afterContent-box">
                                <h2>랭킹 리스트</h2>
                                <ul id="ranking-list"></ul>
                            </div>
                        </div>
                    </div>
                `;
                document.getElementById('blackjack-logo').addEventListener('click', function() {
                    window.location.href = '../';
                });
                loadRanking();
                logout();
            } else {
                alert("로그인을 해주세요");
                window.location.href = '../';
                
            }
        }

        // 랭킹 데이터를 불러오는 함수
        function loadRanking() {
            const rankingList = document.getElementById('ranking-list');
            // 임의의 랭킹 데이터 (실제 데이터는 서버에서 가져와야 함)
            const rankings = [
                { username: 'user1', score: 1000 },
                { username: 'user2', score: 900 },
                { username: 'user3', score: 800 },
                // ... 추가 데이터
            ];

            rankings.forEach(rank => {
                const listItem = document.createElement('li');
                listItem.textContent = `${rank.username}: ${rank.score}점`;
                rankingList.appendChild(listItem);
            });
        }

        window.onload = loadContent;
    </script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/5.1.3/js/bootstrap.bundle.min.js"></script>
</body>
</html>
